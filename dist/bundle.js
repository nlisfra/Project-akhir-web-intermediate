/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={16:(t,n,r)=>{r.d(n,{A:()=>u});var e=r(601),o=r.n(e),i=r(314),a=r.n(i)()(o());a.push([t.id,'/* === Reset & Global Styles === */\n*,\n*::before,\n*::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: "Segoe UI", Arial, sans-serif;\n  background-color: #f4f4f9;\n  color: #333;\n  line-height: 1.6;\n  padding: 20px;\n}\n\n/* === Skip Link for Accessibility === */\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background-color: #4e91e9;\n  color: white;\n  padding: 10px;\n  z-index: 1000;\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s 0.3s, opacity 0.3s linear, top 0.2s;\n  text-decoration: none;\n  font-weight: bold;\n}\n\n.skip-link:focus {\n  top: 0;\n  visibility: visible;\n  opacity: 1;\n  background: #fff;\n  color: #000;\n  padding: 1rem;\n  border: 2px solid #000;\n  transition: visibility 0s, opacity 0.3s linear, top 0.2s;\n}\n\n/* === Header & Navigation === */\nheader {\n  text-align: center;\n  font-size: 24px;\n}\n\nh1 {\n  margin-top: 40px;\n  margin-bottom: 40px;\n}\n\nnav {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #333;\n  padding: 10px 0;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\nnav a {\n  text-decoration: none;\n  font-weight: bold;\n  color: #fff;\n  padding: 10px 20px;\n  margin: 0 15px;\n  border-radius: 5px;\n  transition: background-color 0.3s, color 0.3s;\n  text-align: center;\n}\n\nnav a:hover {\n  background-color: #004fa4;\n  color: #fff;\n}\n\n@media (max-width: 768px) {\n  nav {\n    flex-direction: column;\n  }\n\n  nav a {\n    margin: 10px 0;\n  }\n}\n\n/* === Typography === */\nh2 {\n  font-size: 1.8rem;\n  margin-bottom: 24px;\n  text-align: center;\n}\n\n/* === Form Elements === */\ninput,\ntextarea {\n  padding: 25px;\n  margin-bottom: 16px;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  font-size: 1rem;\n  transition: border-color 0.3s ease;\n}\n\ninput:focus,\ntextarea:focus {\n  outline: none;\n  border-color: #007bff;\n}\n\n/* === Buttons === */\nbutton,\n.button {\n  display: inline-block;\n  width: 100%;\n  padding: 12px;\n  background-color: #004fa4;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 1.1rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\nbutton:hover,\n.button:hover {\n  background-color: #47a0ff;\n}\n\n.submit-btn {\n  margin-top: 1rem;\n}\n\n/* === Stories Layout (3 Column Layout) === */\n.story-container {\n  margin-bottom: 30px;\n  display: flex;\n  flex-direction: column;\n}\n\n.story-card {\n  background-color: #fff;\n  padding: 40px;\n  margin-bottom: 30px;\n  border-radius: 10px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  animation: fadeInUp 0.5s ease forwards;\n  opacity: 0;\n  transform: translateY(20px);\n  max-width: 900px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n@keyframes fadeInUp {\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.story-flex {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 20px;\n  margin-bottom: 10px;\n}\n\n@media (max-width: 768px) {\n  .story-container {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 480px) {\n  .story-flex {\n    grid-template-columns: 1fr;\n  }\n}\n\n.story-left,\n.story-right {\n  flex: 1;\n  min-width: 280px;\n}\n\n.story-photo,\n.story-map {\n  width: 100%;\n}\n\n.story-desc {\n  background-color: #f0f0f0;\n  padding: 12px;\n  border-radius: 8px;\n  max-width: 100%;\n}\n\n.story-date {\n  color: #777;\n  font-size: 0.9rem;\n  margin-bottom: 20px;\n}\n\n.story-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 30px;\n  list-style: none;\n  padding-left: 0;\n}\n\n@media (max-width: 768px) {\n  .story-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n\n/* === Form Container === */\n.story-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  max-width: 600px;\n  margin: 0 auto;\n  background-color: #e5e5e5;\n  padding: 1rem 2rem;\n  border-radius: 12px;\n}\n\n/* Label styling */\n.story-form label {\n  font-weight: 600;\n  margin-bottom: 0.3rem;\n  color: #333;\n  display: block;\n}\n\n/* Inputs and textarea */\n.story-form input,\n.story-form textarea {\n  width: 100%;\n  padding: 0.6rem 0.8rem;\n  font-size: 1rem;\n  border: 1.5px solid #ccc;\n  border-radius: 6px;\n  box-sizing: border-box;\n  transition: border-color 0.3s ease;\n  resize: vertical;\n}\n\n.story-form textarea#description {\n  min-height: 100px;\n}\n\n.story-form input:focus,\n.story-form textarea:focus {\n  border-color: #4a90e2;\n  outline: none;\n}\n\n/* Buttons */\n.story-form .button,\n.story-form button {\n  background-color: #4a90e2;\n  color: white;\n  font-weight: 600;\n  border: none;\n  padding: 0.6rem 1.2rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  user-select: none;\n  width: 100%;\n}\n\n.story-form .button:hover,\n.story-form button:hover {\n  background-color: #357abd;\n}\n\n/* === Update Story Form Specific === */\n#update-story-form {\n  max-width: 600px;\n  margin: 2rem auto;\n  padding: 2rem;\n  border: 2px solid #e0e0e0;\n  border-radius: 12px;\n  background-color: #fefefe;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n#update-story-form ~ h2 {\n  text-align: center;\n  margin-bottom: 1rem;\n  color: #444;\n}\n\n#update-story-form label {\n  display: block;\n  margin-bottom: 1rem;\n  color: #333;\n  font-weight: 500;\n}\n\n#update-story-form input,\n#update-story-form textarea {\n  width: 100%;\n  padding: 0.6rem 0.8rem;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  font-size: 1rem;\n  box-sizing: border-box;\n  margin-top: 0.3rem;\n  transition: border 0.2s;\n}\n\n#update-story-form input:focus,\n#update-story-form textarea:focus {\n  border-color: #8c67ef;\n  outline: none;\n}\n\n#update-story-form button {\n  padding: 0.6rem 1.2rem;\n  font-size: 1rem;\n  border: none;\n  border-radius: 8px;\n  margin-right: 0.8rem;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n#update-story-form button[type="submit"] {\n  background-color: #8c67ef;\n  color: white;\n}\n\n#update-story-form button[type="submit"]:hover {\n  background-color: #6b4acb;\n}\n\n#update-story-form button#cancel-btn {\n  background-color: #e0e0e0;\n  color: #333;\n}\n\n#update-story-form button#cancel-btn:hover {\n  background-color: #ccc;\n}\n\n/* Responsive tweaks for form */\n@media (max-width: 480px) {\n  #update-story-form {\n    padding: 1.2rem;\n  }\n\n  #update-story-form button {\n    width: 100%;\n    margin-bottom: 0.8rem;\n  }\n\n  #update-story-form button#cancel-btn {\n    margin-right: 0;\n  }\n}\n\n\n/* === Map === */\n#mapPicker,\n.map-box {\n  width: 100%;\n  height: 500px;\n  border-radius: 6px;\n  border: 1px solid #ccc;\n}\n\n/* === Preview Image === */\n#preview {\n  max-width: 100%;\n  display: block;\n  margin-top: 12px;\n}\n\n/* === Login Form === */\nform.login {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 30px;\n  background-color: #f8f8f8;\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);\n  max-width: 800px;\n  margin: 0 auto;\n}\n\nform.login h2 {\n  font-size: 2rem;\n  text-align: center;\n  color: #333;\n  margin-bottom: 24px;\n}\n\nform.login label {\n  font-size: 1rem;\n  color: #555;\n  margin-bottom: 6px;\n  font-weight: 600;\n}\n\nform.login input {\n  padding: 12px 16px;\n  border-radius: 8px;\n  border: 1px solid #d1d1d1;\n  font-size: 1rem;\n  color: #333;\n  background-color: #fff;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n}\n\nform.login input:focus {\n  border-color: #007bff;\n  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);\n}\n\nform.login button {\n  padding: 12px;\n  background-color: #007bff;\n  color: white;\n  font-size: 1.1rem;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\nform.login button:hover {\n  background-color: #0056b3;\n}\n\nform.login p {\n  text-align: center;\n  font-size: 0.9rem;\n  color: #555;\n}\n\nform.login a {\n  color: #007bff;\n  text-decoration: none;\n}\n\nform.login a:hover {\n  text-decoration: underline;\n}\n\n/* === Register Form (Styling sama dengan Login) === */\nform#registerForm {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  padding: 30px;\n  background-color: #f8f8f8;\n  border-radius: 8px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);\n  max-width: 800px;\n  margin: 0 auto;\n}\n\nform#registerForm h2 {\n  font-size: 2rem;\n  text-align: center;\n  color: #333;\n  margin-bottom: 24px;\n}\n\nform#registerForm label {\n  font-size: 1rem;\n  color: #555;\n  margin-bottom: 6px;\n  font-weight: 600;\n}\n\nform#registerForm input {\n  padding: 12px 16px;\n  border-radius: 8px;\n  border: 1px solid #d1d1d1;\n  font-size: 1rem;\n  color: #333;\n  background-color: #fff;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n}\n\nform#registerForm input:focus {\n  border-color: #007bff;\n  box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);\n}\n\nform#registerForm button {\n  padding: 12px;\n  background-color: #007bff;\n  color: white;\n  font-size: 1.1rem;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\nform#registerForm button:hover {\n  background-color: #0056b3;\n}\n\nform#registerForm p {\n  text-align: center;\n  font-size: 0.9rem;\n  color: #555;\n}\n\nform#registerForm a {\n  color: #007bff;\n  text-decoration: none;\n}\n\nform#registerForm a:hover {\n  text-decoration: underline;\n}\n\n/* === Responsive === */\n@media (max-width: 600px) {\n  main {\n    padding: 16px;\n  }\n\n  form.login {\n    padding: 20px;\n    width: 90%;\n  }\n\n  form.login button {\n    font-size: 1rem;\n  }\n\n  .story-flex {\n    grid-template-columns: 1fr; /* 1 column layout on small screens */\n  }\n\n  button {\n    padding: 10px;\n    font-size: 1rem;\n  }\n}\n\n/* === Smooth Scroll === */\nhtml {\n  scroll-behavior: smooth;\n}\n\n/* === Lists === */\nul,\nol {\n  list-style: none;\n  padding-left: 0;\n}\n\n/* === Transitions & Effects === */\ndiv {\n  opacity: 1;\n  transition: opacity 0.3s ease-in-out;\n}\n\ndiv.show {\n  opacity: 0.5;\n}\n\n.screenshot-button, .sync-button {\n  margin: 10px;\n  background-color: #008cff;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  display: inline-block;\n  width: 100%;\n  padding: 12px;\n  background-color: #004fa4;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  font-size: 1.1rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n.screenshot-button:hover {\n  background-color: #0070cc;\n}\n\n.story-container {\n  position: relative;\n  padding: 1rem;\n  border: 1px solid #ddd;\n  border-radius: 12px;\n  margin-bottom: 20px;\n  background-color: #fff;\n}\n\n.dropdown {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n}\n\n.dropdown-toggle {\n  background-color: #f0f0f0;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  width: 32px;\n  height: 32px;\n  font-size: 1.2em;\n  line-height: 0;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  color: #555555;\n}\n\n.dropdown-menu {\n  display: none;\n  position: absolute;\n  top: 40px;\n  right: 0;\n  background-color: white;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n  z-index: 1000;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n.dropdown-menu.show {\n  display: block;\n}\n\n.dropdown-menu li {\n  border-bottom: 1px solid #eee;\n}\n\n.dropdown-menu li:last-child {\n  border-bottom: none;\n}\n\n.dropdown-menu button {\n  background: none;\n  border: none;\n  padding: 10px 16px;\n  width: 100%;\n  text-align: left;\n  cursor: pointer;\n}\n\n.dropdown {\n  position: relative;\n  display: inline-block;\n  position: absolute;\n  top: 8px;\n  right: 8px;\n}\n\n.dropdown-toggle {\n  background: none;\n  border: none;\n  font-size: 20px;\n  color: black;\n  cursor: pointer;\n}\n\n.dropdown-menu {\n  display: none;\n  position: absolute;\n  right: 0;\n  background-color: white;\n  min-width: 160px;\n  box-shadow: 0px 4px 8px rgba(0,0,0,0.1);\n  border-radius: 8px;\n  z-index: 1;\n  padding: 8px 0;\n}\n\n.dropdown-menu.show {\n  display: block;\n}\n\n.dropdown-menu li {\n  padding: 8px 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n}\n\n.dropdown-menu li button {\n  background: none;\n  border: none;\n  font-size: 14px;\n  color: #333;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n}\n\n.dropdown-menu li button:hover {\n  background-color: #f0f0f0;\n  width: 100%;\n}\n\n\n/* Container styling */\n#update-story-form {\n  max-width: 600px;\n  margin: 2rem auto;\n  padding: 2rem;\n  border: 2px solid #e0e0e0;\n  border-radius: 12px;\n  background-color: #fefefe;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n/* Title */\n#update-story-form ~ h2 {\n  text-align: center;\n  margin-bottom: 1rem;\n  color: #444;\n}\n\n/* Label and inputs */\n#update-story-form label {\n  display: block;\n  margin-bottom: 1rem;\n  color: #333;\n  font-weight: 500;\n}\n\n#update-story-form input,\n#update-story-form textarea {\n  width: 100%;\n  padding: 0.6rem 0.8rem;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  font-size: 1rem;\n  box-sizing: border-box;\n  margin-top: 0.3rem;\n  transition: border 0.2s;\n}\n\n#update-story-form input:focus,\n#update-story-form textarea:focus {\n  border-color: #8c67ef;\n  outline: none;\n}\n\n/* Buttons */\n#update-story-form button {\n  padding: 0.6rem 1.2rem;\n  font-size: 1rem;\n  border: none;\n  border-radius: 8px;\n  margin-right: 0.8rem;\n  margin-bottom: 20px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n#update-story-form button[type="submit"] {\n  background-color: #8c67ef;\n  color: white;\n}\n\n#update-story-form button[type="submit"]:hover {\n  background-color: #6b4acb;\n}\n\n#update-story-form button#cancel-btn {\n  background-color: #e0e0e0;\n  color: #333;\n}\n\n#update-story-form button#cancel-btn:hover {\n  background-color: #ccc;\n}\n\n/* Responsive tweaks */\n@media (max-width: 480px) {\n  #update-story-form {\n    padding: 1.2rem;\n  }\n\n  #update-story-form button {\n    width: 100%;\n    margin-bottom: 0.8rem;\n  }\n\n  #update-story-form button#cancel-btn {\n    margin-right: 0;\n  }\n}',""]);const u=a},56:(t,n,r)=>{t.exports=function(t){var n=r.nc;n&&t.setAttribute("nonce",n)}},72:t=>{var n=[];function r(t){for(var r=-1,e=0;e<n.length;e++)if(n[e].identifier===t){r=e;break}return r}function e(t,e){for(var i={},a=[],u=0;u<t.length;u++){var c=t[u],s=e.base?c[0]+e.base:c[0],l=i[s]||0,f="".concat(s," ").concat(l);i[s]=l+1;var h=r(f),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)n[h].references++,n[h].updater(p);else{var d=o(p,e);e.byIndex=u,n.splice(u,0,{identifier:f,updater:d,references:1})}a.push(f)}return a}function o(t,n){var r=n.domAPI(n);return r.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;r.update(t=n)}else r.remove()}}t.exports=function(t,o){var i=e(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var u=r(i[a]);n[u].references--}for(var c=e(t,o),s=0;s<i.length;s++){var l=r(i[s]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}i=c}}},113:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var r="",e=void 0!==n[5];return n[4]&&(r+="@supports (".concat(n[4],") {")),n[2]&&(r+="@media ".concat(n[2]," {")),e&&(r+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),r+=t(n),e&&(r+="}"),n[2]&&(r+="}"),n[4]&&(r+="}"),r})).join("")},n.i=function(t,r,e,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(e)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(a[c]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);e&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),n.push(l))}},n}},540:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var n={};t.exports=function(t,r){var e=function(t){if(void 0===n[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}n[t]=r}return n[t]}(t);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(r)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(r){!function(t,n,r){var e="";r.supports&&(e+="@supports (".concat(r.supports,") {")),r.media&&(e+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(e+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),e+=r.css,o&&(e+="}"),r.media&&(e+="}"),r.supports&&(e+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(e,t,n.options)}(n,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}r.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return r.d(n,{a:n}),n},r.d=(t,n)=>{for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r.nc=void 0;var e=r(72),o=r.n(e),i=r(825),a=r.n(i),u=r(659),c=r.n(u),s=r(56),l=r.n(s),f=r(540),h=r.n(f),p=r(113),d=r.n(p),y=r(16),m={};function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function v(){v=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=E(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new j(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(_([])));b&&b!==r&&e.call(b,i)&&(y=b);var w=d.prototype=h.prototype=Object.create(y);function x(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function k(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==g(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,E(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function S(t){this.tryEntries.push(t)}function O(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function j(t){this.tryEntries=[[-1]],t.forEach(S,this),this.reset(!0)}function _(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(g(n)+" is not iterable")}return p.prototype=d,c(w,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},n.awrap=function(t){return{__await:t}},x(k.prototype),c(k.prototype,a,(function(){return this})),n.AsyncIterator=k,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new k(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=_,j.prototype={constructor:j,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),O(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:_(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function b(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function w(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){b(i,e,o,a,u,"next",t)}function u(t){b(i,e,o,a,u,"throw",t)}a(void 0)}))}}m.styleTagTransform=d(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),o()(y.A,m),y.A&&y.A.locals&&y.A.locals;var x="https://story-api.dicoding.dev/v1";function k(t,n){return E.apply(this,arguments)}function E(){return(E=w(v().mark((function t(n,r){var e,o;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(x,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})});case 2:return e=t.sent,t.next=5,e.json();case 5:if(o=t.sent,e.ok){t.next=8;break}throw new Error(o.message||"Login failed");case 8:return t.abrupt("return",o.loginResult);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return O.apply(this,arguments)}function O(){return(O=w(v().mark((function t(n){var r,e;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(x,"/stories"),{headers:{Authorization:"Bearer ".concat(n)}});case 2:return r=t.sent,t.next=5,r.json();case 5:if(e=t.sent,r.ok){t.next=8;break}throw new Error(e.message||"Failed to fetch stories");case 8:return t.abrupt("return",e.listStory);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t,n){return _.apply(this,arguments)}function _(){return(_=w(v().mark((function t(n,r){var e,o;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(x,"/stories"),{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:r});case 2:return e=t.sent,t.next=5,e.json();case 5:if(o=t.sent,e.ok){t.next=8;break}throw new Error(o.message||"Gagal mengirim cerita");case 8:return t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,n,r){return P.apply(this,arguments)}function P(){return(P=w(v().mark((function t(n,r,e){var o,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(x,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:r,password:e})});case 2:return o=t.sent,t.next=5,o.json();case 5:if(i=t.sent,o.ok){t.next=8;break}throw new Error(i.message||"Registrasi gagal");case 8:return t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}const G={render:function(){var t=this,n=document.createElement("div");return n.innerHTML='\n      <main id="main-content">\n        <form id="loginForm" aria-label="Form login pengguna" class="login">\n          <h2>Masuk</h2>\n          <label for="email">Email:</label>\n          <input type="email" id="email" name="email" required aria-required="true" placeholder="masukkan email" />\n\n          <label for="password">Kata Sandi:</label>\n          <input type="password" id="password" name="password" required aria-required="true" placeholder="masukkan kata sandi"/>\n\n          <button type="submit">Masuk</button>\n          <p>Belum punya akun? <a href="#/register" id="goToRegister">Daftar di sini</a></p>\n        </form>\n      </main>\n    ',this._form=n.querySelector("#loginForm"),n.querySelector("#goToRegister").addEventListener("click",(function(n){n.preventDefault(),t.startTransitionToRegister()})),n},bindSubmit:function(t){var n=this;this._form.addEventListener("submit",(function(r){r.preventDefault();var e=n._form.querySelector("#email").value.trim(),o=n._form.querySelector("#password").value.trim();""!==e&&""!==o?t({email:e,password:o}):alert("Email dan kata sandi harus diisi.")}))},startTransitionToRegister:function(){document.startViewTransition?document.startViewTransition((function(){window.location.hash="#/register"})):window.location.hash="#/register"}};function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function I(){I=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==F(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(F(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function N(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function C(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){N(i,e,o,a,u,"next",t)}function u(t){N(i,e,o,a,u,"throw",t)}a(void 0)}))}}const A={render:function(){var t=this,n=document.createElement("div");return n.innerHTML='\n      <main id="main-content">\n        <form id="registerForm" aria-label="Form pendaftaran pengguna">\n            <h2>Registrasi</h2>\n            <label for="name">Nama:</label>\n            <input type="text" id="name" name="name" required aria-required="true" placeholder="masukkan username"/>\n\n            <label for="email">Email:</label>\n            <input type="email" id="email" name="email" required aria-required="true" placeholder="masukkan email"/>\n\n            <label for="password">Kata Sandi:</label>\n            <input type="password" id="password" name="password" required aria-required="true"  placeholder="masukkan kata sandi"/>\n\n          <button type="submit">Daftar</button>\n          <p>Sudah punya akun? <a href="#/login" id="goToLogin">Login di sini</a></p>\n        </form>\n      </main>\n    ',this._form=n.querySelector("#registerForm"),n.querySelector("#goToLogin").addEventListener("click",(function(n){n.preventDefault(),t.startTransitionToLogin()})),n},bindSubmit:function(t){var n=this;this._form.addEventListener("submit",(function(r){r.preventDefault();var e=n._form.querySelector("#name").value.trim(),o=n._form.querySelector("#email").value.trim(),i=n._form.querySelector("#password").value.trim();t({name:e,email:o,password:i})}))},startTransitionToLogin:function(){document.startViewTransition?document.startViewTransition((function(){window.location.hash="#/login"})):window.location.hash="#/login"}};function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function D(){D=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==B(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(B(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function z(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function q(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function U(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?q(Object(r),!0).forEach((function(n){H(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function H(t,n,r){return(n=function(t){var n=function(t){if("object"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==M(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function R(){R=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==M(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(M(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function Y(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function K(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){Y(i,e,o,a,u,"next",t)}function u(t){Y(i,e,o,a,u,"throw",t)}a(void 0)}))}}var V="stories";function W(){return new Promise((function(t,n){var r=indexedDB.open("StoryDB",1);r.onupgradeneeded=function(t){var n=t.target.result;n.objectStoreNames.contains(V)||n.createObjectStore(V,{keyPath:"id"})},r.onsuccess=function(n){t(n.target.result)},r.onerror=function(t){n(t.target.error)}}))}function J(t){return Z.apply(this,arguments)}function Z(){return(Z=K(R().mark((function t(n){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:return r=t.sent,t.abrupt("return",new Promise((function(t,e){var o=r.transaction(V,"readwrite").objectStore(V);n.id||(n.id=Date.now().toString());var i=o.put(n);i.onsuccess=function(){return t(!0)},i.onerror=function(t){return e(t.target.error)}})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(){return Q.apply(this,arguments)}function Q(){return(Q=K(R().mark((function t(){var n;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:return n=t.sent,t.abrupt("return",new Promise((function(t,r){var e=n.transaction(V,"readonly").objectStore(V).getAll();e.onsuccess=function(){return t(e.result)},e.onerror=function(t){return r(t.target.error)}})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t){return tt.apply(this,arguments)}function tt(){return(tt=K(R().mark((function t(n){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:return r=t.sent,t.abrupt("return",new Promise((function(t,e){var o=r.transaction(V,"readwrite").objectStore(V).delete(n.toString());o.onsuccess=function(){return t(!0)},o.onerror=function(){return e("Gagal menghapus data")}})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(){return rt.apply(this,arguments)}function rt(){return(rt=K(R().mark((function t(){var n;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:return n=t.sent,t.abrupt("return",new Promise((function(t,r){var e=n.transaction(V,"readwrite").objectStore(V).clear();e.onsuccess=function(){return t(!0)},e.onerror=function(t){return r(t.target.error)}})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(t){return ot.apply(this,arguments)}function ot(){return(ot=K(R().mark((function t(n){var r;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:return r=t.sent,t.abrupt("return",new Promise((function(t,e){var o=r.transaction(V,"readonly").objectStore(V).get(n.toString());o.onsuccess=function(){return t(o.result)},o.onerror=function(t){return e(t.target.error)}})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function it(t,n){return at.apply(this,arguments)}function at(){return(at=K(R().mark((function t(n,r){var e;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:return e=t.sent,t.abrupt("return",new Promise((function(t,o){var i=e.transaction(V,"readwrite").objectStore(V),a=i.get(n.toString());a.onsuccess=function(){var e=a.result;if(e){var u=U(U(U({},e),r),{},{id:n.toString()}),c=i.put(u);c.onsuccess=function(){return t(!0)},c.onerror=function(t){return o(t.target.error)}}else o(new Error("Cerita tidak ditemukan"))},a.onerror=function(t){return o(t.target.error)}})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(){ct=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==ut(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(ut(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function st(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}const lt={render:function(t){var n=this,r=document.createElement("div");r.id="main-content",r.tabIndex=0;var e=document.createElement("ul");if(0===t.length){var o=document.createElement("p");o.textContent="Tidak ada cerita untuk ditampilkan.",e.appendChild(o)}else t.forEach((function(t,n){var r=document.createElement("li");r.classList.add("story-card");var o="map-".concat(n),i=null!=t.lat&&null!=t.lon?"https://www.openstreetmap.org/?mlat=".concat(t.lat,"&mlon=").concat(t.lon,"#map=15/").concat(t.lat,"/").concat(t.lon):"#",a=new Date(t.createdAt).toLocaleDateString("id-ID");if(r.innerHTML='\n          <div class="story-container" style="position: relative;">\n            <h3>'.concat(t.name||"Tanpa Nama",'</h3>\n            <p class="story-date">🕒 Dibuat pada: ').concat(a,'</p>\n            <div class="story-flex">\n              <div class="story-left">\n                ').concat(t.photoUrl||t.imageBlob?'\n                  <img \n                    src="'.concat(t.photoUrl||URL.createObjectURL(t.imageBlob),'" \n                    alt="Foto cerita dari ').concat(t.name||"pengguna",'" \n                    class="story-photo" \n                    style="max-width: 300px; border-radius: 8px;"\n                  />\n                '):"",'\n                <p><em>"').concat(t.description||"",'"</em></p>\n              </div>\n              <div class="story-right">\n                <div id="').concat(o,'" class="map-box" aria-label="Peta lokasi cerita" style="height: 250px;"></div>\n                ').concat(null!=t.lat&&null!=t.lon?'<p><a href="'.concat(i,'" target="_blank" rel="noopener">📍 Lihat lokasi di OpenStreetMap</a></p>'):"<p><em>Lokasi tidak tersedia</em></p>",'\n              </div>\n            </div>\n\n            <div class="dropdown" style="position: absolute; top: 10px; right: 10px;">\n              <button class="dropdown-toggle" aria-label="Menu cerita" style="background: #fff; border: 1px solid #ccc; border-radius: 6px; width: 32px; height: 32px; font-size: 1.2em; color: #000; cursor: pointer;">⋮</button>\n              <ul class="dropdown-menu" data-id="').concat(t.id,'" style="display: none; position: absolute; right: 0; margin-top: 6px; background-color: white; box-shadow: 0px 2px 6px rgba(0,0,0,0.2); border-radius: 6px; z-index: 999; list-style: none; padding: 0; min-width: 140px;">\n                <li><button class="edit-btn" style="width: 100%; padding: 10px; text-align: left; background: none; border: none; cursor: pointer;">✏️ Ubah Cerita</button></li>\n                <li><button class="hapus-btn" style="width: 100%; padding: 10px; text-align: left; background: none; border: none; cursor: pointer;">🗑️ Hapus Cerita</button></li>\n              </ul>\n            </div>\n          </div>\n        '),e.appendChild(r),null!=t.lat&&null!=t.lon)setTimeout((function(){null!==L.DomUtil.get(o)&&(L.DomUtil.get(o)._leaflet_id=null);var n=L.map(o).setView([t.lat,t.lon],13);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(n);var e=L.marker([t.lat,t.lon]).addTo(n);e.bindPopup("<strong>".concat(t.name||"Pengguna","</strong><br>").concat(t.description||"")),n.scrollWheelZoom.disable(),n.dragging.disable(),n.touchZoom.disable(),n.doubleClickZoom.disable(),n.boxZoom.disable(),n.keyboard.disable(),r.addEventListener("click",(function(){e.openPopup(),n.setView([t.lat,t.lon],13)}))}),100);else{var u=document.getElementById(o);u&&(u.textContent="Lokasi tidak tersedia",u.style.display="flex",u.style.alignItems="center",u.style.justifyContent="center",u.style.fontStyle="italic",u.style.color="#777")}}));r.appendChild(e),e.addEventListener("click",function(){var t,r=(t=ct().mark((function t(r){var e,o,i,a,u,c,s,l,f,h;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.target,o=e.closest(".dropdown-toggle"),i=e.closest(".edit-btn"),a=e.closest(".hapus-btn"),!o){t.next=10;break}return u=o.nextElementSibling,document.querySelectorAll(".dropdown-menu").forEach((function(t){t!==u&&(t.style.display="none")})),u.style.display="block"===u.style.display?"none":"block",r.stopPropagation(),t.abrupt("return");case 10:if(!a){t.next=25;break}return s=null===(c=a.closest(".dropdown-menu"))||void 0===c||null===(c=c.dataset)||void 0===c?void 0:c.id,t.prev=12,t.next=15,X(s);case 15:return t.next=17,$();case 17:l=t.sent,n.render(l),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(12),console.error("Gagal menghapus cerita:",t.t0),alert("Gagal menghapus cerita.");case 25:i&&(h=null===(f=i.closest(".dropdown-menu"))||void 0===f||null===(f=f.dataset)||void 0===f?void 0:f.id,window.location.hash="#/update/".concat(h));case 26:case"end":return t.stop()}}),t,null,[[12,21]])})),function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){st(i,e,o,a,u,"next",t)}function u(t){st(i,e,o,a,u,"throw",t)}a(void 0)}))});return function(t){return r.apply(this,arguments)}}()),document.addEventListener("click",(function(){document.querySelectorAll(".dropdown-menu").forEach((function(t){t.style.display="none"}))}));var i=document.getElementById("app");i.innerHTML="";var a=document.createElement("a");a.href="#main-content",a.textContent="Lewati ke konten utama",a.className="skip-link",a.addEventListener("click",(function(t){t.preventDefault(),r.focus()})),i.appendChild(a),i.appendChild(r)},renderError:function(t){var n=document.createElement("div");n.id="main-content",n.tabIndex=0;var r=document.createElement("p");r.className="error-message",r.textContent=t,n.appendChild(r);var e=document.getElementById("app");e.innerHTML="";var o=document.createElement("a");o.href="#main-content",o.textContent="Lewati ke konten utama",o.className="skip-link",o.addEventListener("click",(function(t){t.preventDefault(),n.focus()})),e.appendChild(o),e.appendChild(n)}};function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(){ht=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==ft(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(ft(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function pt(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function yt(){yt=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==dt(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(dt(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function mt(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function gt(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){mt(i,e,o,a,u,"next",t)}function u(t){mt(i,e,o,a,u,"throw",t)}a(void 0)}))}}const vt={render:function(){var t=document.getElementById("app");return t.innerHTML='\n      <main id="main-content">\n        <h2>🌟 Bagikan Ceritamu</h2>\n        <form id="addStoryForm" class="story-form">\n          <label for="description">📝 Ceritakan pengalamanmu:</label>\n          <textarea id="description" required aria-required="true" placeholder="Contoh: Aku melihat matahari terbit..."></textarea>\n\n          <label for="video">📷 Ambil Gambar dari Kamera:</label>\n          <button type="button" id="startCameraBtn" class="button">🎥 Mulai Kamera</button>\n          <video id="video" width="300" autoplay playsinline style="display: none;"></video>\n          <button type="button" id="captureBtn" class="button" style="display: none;">📸 Ambil Foto</button>\n\n          <canvas id="canvas" width="300" height="225" style="display: none;"></canvas>\n          <img id="preview" alt="Pratinjau hasil foto" style="max-width: 300px; display: none;" />\n\n          <input type="file" id="photoInput" accept="image/*" capture="environment" />\n\n          <fieldset>\n            <legend>🗺️ Pilih Lokasi Cerita</legend>\n            <div id="mapPicker" style="height: 300px;"></div>\n            <p>🌐 Koordinat Terpilih: <strong>Latitude:</strong> <span id="latDisplay">-</span> | <strong>Longitude:</strong> <span id="lonDisplay">-</span></p>\n          </fieldset>\n\n          <button type="submit" class="button submit-btn">✅ Tambahkan Cerita</button>\n        </form>\n      </main>\n    ',this.initCameraControls(),this.initMap(),this.initPhotoInput(),this.insertScreenshotButton(),t},insertScreenshotButton:function(){var t=document.getElementById("addStoryForm");if(t&&!document.querySelector(".screenshot-button")){var n=document.createElement("button");n.textContent="📸 Screenshot Halaman",n.classList.add("screenshot-button"),n.type="button",n.addEventListener("click",(function(){var t=document.querySelector("main");t&&html2canvas(t).then((function(t){var n=document.createElement("a");n.download="screenshot.png",n.href=t.toDataURL(),n.click()}))})),t.appendChild(n)}},initCameraControls:function(){var t=this;return gt(yt().mark((function n(){var r,e,o,i,a,u,c;return yt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=document.getElementById("startCameraBtn"),e=document.getElementById("video"),o=document.getElementById("captureBtn"),i=document.getElementById("canvas"),a=document.getElementById("preview"),(u=document.createElement("button")).id="screenshotBtn",u.textContent="📸 Screenshot Layar",u.className="button",u.style.display="none",o.insertAdjacentElement("afterend",u),c=null,r.addEventListener("click",gt(yt().mark((function n(){return yt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:c=n.sent,t.stream=c,e.srcObject=c,e.style.display="block",o.style.display="inline-block",u.style.display="inline-block",r.style.display="none",n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.error("Gagal mengakses kamera:",n.t0),alert("Tidak dapat mengakses kamera.");case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))),o.addEventListener("click",(function(){i.getContext("2d").drawImage(e,0,0,i.width,i.height),i.toBlob((function(n){a.src=URL.createObjectURL(n),a.style.display="block",a.blob=n,c&&(c.getTracks().forEach((function(t){return t.stop()})),t.stream=null,c=null),e.srcObject=null,e.style.display="none",o.style.display="none",u.style.display="none",r.style.display="inline-block"}),"image/jpeg")})),u.addEventListener("click",(function(){i.getContext("2d").drawImage(e,0,0,i.width,i.height),i.toBlob((function(t){a.src=URL.createObjectURL(t),a.style.display="block",a.blob=t}),"image/jpeg")}));case 15:case"end":return n.stop()}}),n)})))()},initPhotoInput:function(){var t=document.getElementById("photoInput"),n=document.getElementById("preview");t.addEventListener("change",(function(t){var r=t.target.files[0];r&&(n.src=URL.createObjectURL(r),n.style.display="block",n.blob=r)}))},initMap:function(){var t=this;this.selectedLat=null,this.selectedLon=null;var n,r=L.map("mapPicker").setView([-6.2,106.8],5);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(r),r.on("click",(function(e){t.selectedLat=e.latlng.lat,t.selectedLon=e.latlng.lng,document.getElementById("latDisplay").textContent=t.selectedLat.toFixed(5),document.getElementById("lonDisplay").textContent=t.selectedLon.toFixed(5),n?n.setLatLng(e.latlng):n=L.marker(e.latlng).addTo(r)}))},bindSubmit:function(t){var n=this,r=document.getElementById("addStoryForm");r&&r.addEventListener("submit",(function(r){r.preventDefault();var e=document.getElementById("description").value,o=document.getElementById("preview").blob,i=n.selectedLat,a=n.selectedLon;t({description:e,imageBlob:o,lat:i,lon:a})}))},destroy:function(){this.stream&&(this.stream.getTracks().forEach((function(t){return t.stop()})),this.stream=null);var t=document.getElementById("video");t&&t.srcObject&&(t.srcObject.getTracks().forEach((function(t){return t.stop()})),t.srcObject=null)}};function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function wt(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return xt(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xt(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function xt(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function kt(){kt=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==bt(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(bt(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function Et(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function St(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){Et(i,e,o,a,u,"next",t)}function u(t){Et(i,e,o,a,u,"throw",t)}a(void 0)}))}}const Ot=function(t,n,r){t.innerHTML='\n      <h2>Update Cerita</h2>\n      <form id="update-story-form">\n        <label>\n          Nama:\n          <input type="text" name="name" value="'.concat(n.name||"",'" required />\n        </label>\n        <br/>\n        <label>\n          Deskripsi:\n          <textarea name="description" required>').concat(n.description||"",'</textarea>\n        </label>\n        <br/>\n        <label>\n          Latitude:\n          <input type="number" step="any" name="lat" value="').concat(n.lat||"",'" required />\n        </label>\n        <br/>\n        <label>\n          Longitude:\n          <input type="number" step="any" name="lon" value="').concat(n.lon||"",'" required />\n        </label>\n        <br/>\n        <label>\n          URL Foto (opsional):\n          <input type="url" name="photoUrl" value="').concat(n.photoUrl||"",'" />\n        </label>\n        <br/>\n        <button type="submit">Update Cerita</button>\n        <button type="button" id="cancel-btn">Batal</button>\n      </form>\n    ');var e=t.querySelector("#update-story-form");e.addEventListener("submit",(function(t){t.preventDefault();var n=new FormData(e),o={name:n.get("name").trim(),description:n.get("description").trim(),lat:parseFloat(n.get("lat")),lon:parseFloat(n.get("lon")),photoUrl:n.get("photoUrl").trim()||null};r(o)})),t.querySelector("#cancel-btn").addEventListener("click",(function(){window.location.hash="#/stories"}))};function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function _t(){_t=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==jt(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(jt(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function Tt(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function Pt(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){Tt(i,e,o,a,u,"next",t)}function u(t){Tt(i,e,o,a,u,"throw",t)}a(void 0)}))}}const Lt={init:function(t,n){return Pt(_t().mark((function r(){var e;return _t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,et(n);case 3:if(e=r.sent){r.next=7;break}return t.innerHTML="<p>Data cerita tidak ditemukan.</p>",r.abrupt("return");case 7:Ot(t,e,function(){var t=Pt(_t().mark((function t(r){return _t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,it(n,r);case 3:alert("Cerita berhasil diupdate!"),window.location.hash="#/stories",t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),alert("Gagal mengupdate cerita."),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(n){return t.apply(this,arguments)}}()),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),t.innerHTML="<p>Terjadi kesalahan saat memuat cerita.</p>",console.error(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},destroy:function(){}},Gt=function(){document.getElementById("app").innerHTML='\n      <main id="main-content">\n        <h2>🚫 Halaman Tidak Ditemukan</h2>\n        <p>Halaman yang kamu cari tidak tersedia.</p>\n        <a href="#/login" class="button">⬅️ Kembali ke Login</a>\n      </main>\n    '};function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function It(){It=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Ft(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Ft(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function Nt(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}var Ct={"#/login":{init:function(t){return C(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.innerHTML="",t.appendChild(G.render()),G.bindSubmit(function(){var t=C(I().mark((function t(n){var r,e,o,i,a;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.email,e=n.password,t.prev=1,t.next=4,k(r,e);case 4:o=t.sent,i=o.token,a=o.name,localStorage.setItem("token",i),localStorage.setItem("name",a),alert("Login berhasil!"),window.location.hash="#/stories",t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),alert("Login gagal: "+t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(n){return t.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()}},"#/register":{init:function(t){t.innerHTML="",t.appendChild(A.render()),A.bindSubmit(function(){var t,n=(t=D().mark((function t(n){var r,e,o;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.name,e=n.email,o=n.password,t.prev=1,t.next=4,T(r,e,o);case 4:alert("Registrasi berhasil! Silakan login."),window.location.hash="#/login",t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert("Gagal registrasi: "+t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){z(i,e,o,a,u,"next",t)}function u(t){z(i,e,o,a,u,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}())}},"#/stories":{init:function(t){return(n=ht().mark((function n(){var r,e,o;return ht().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.innerHTML="",r=localStorage.getItem("token")){n.next=6;break}return alert("Silakan login terlebih dahulu."),window.location.hash="#/login",n.abrupt("return");case 6:if(n.prev=6,!navigator.onLine){n.next=14;break}return n.next=10,S(r);case 10:e=n.sent,lt.render(e),n.next=18;break;case 14:return n.next=16,$();case 16:o=n.sent,lt.render(o);case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(6),lt.renderError("Gagal memuat data cerita: ".concat(n.t0.message));case 23:case"end":return n.stop()}}),n,null,[[6,20]])})),function(){var t=this,r=arguments;return new Promise((function(e,o){var i=n.apply(t,r);function a(t){pt(i,e,o,a,u,"next",t)}function u(t){pt(i,e,o,a,u,"throw",t)}a(void 0)}))})();var n},destroy:function(){}},"#/add":{init:function(t){var n=this;return St(kt().mark((function r(){return kt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.innerHTML="",vt.render(),vt.bindSubmit(n.handleSubmit.bind(n)),n._boundSyncHandler=n.syncOfflineStories.bind(n),n.insertSyncButton(),window.addEventListener("online",n._boundSyncHandler),navigator.onLine&&n.syncOfflineStories();case 7:case"end":return r.stop()}}),r)})))()},insertSyncButton:function(){var t=this,n=document.querySelector("#story-list")||document.querySelector(".container");if(n&&!document.querySelector(".sync-button")){var r=document.createElement("button");r.textContent="🔄 Sinkronkan Cerita Offline",r.classList.add("sync-button"),r.addEventListener("click",(function(){t.syncOfflineStories()})),n.appendChild(r)}},handleSubmit:function(t){return St(kt().mark((function n(){var r,e,o,i,a,u,c;return kt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.description,e=t.imageBlob,o=t.lat,i=t.lon,r&&e&&null!==o&&null!==i){n.next=4;break}return alert("Pastikan semua data diisi, foto diambil, dan lokasi dipilih."),n.abrupt("return");case 4:if(a=localStorage.getItem("token")){n.next=9;break}return alert("Silakan login terlebih dahulu."),window.location.hash="#/login",n.abrupt("return");case 9:if(u={id:Date.now().toString(),description:r,imageBlob:e,lat:o,lon:i,createdAt:(new Date).toISOString()},navigator.onLine){n.next=16;break}return n.next=13,J(u);case 13:return alert("Anda sedang offline. Cerita disimpan dan akan dikirim saat online."),window.location.hash="#/stories",n.abrupt("return");case 16:return n.prev=16,(c=new FormData).append("description",u.description),c.append("lat",u.lat),c.append("lon",u.lon),c.append("photo",u.imageBlob,"image.jpg"),n.next=24,j(a,c);case 24:alert("✅ Cerita berhasil dikirim!"),window.location.hash="#/stories",n.next=35;break;case 28:return n.prev=28,n.t0=n.catch(16),console.error(n.t0),n.next=33,J(u);case 33:alert("❌ Gagal mengirim cerita. Disimpan secara lokal dan akan dikirim saat online."),window.location.hash="#/stories";case 35:case"end":return n.stop()}}),n,null,[[16,28]])})))()},syncOfflineStories:function(){return St(kt().mark((function t(){var n,r,e,o,i,a,u;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("token")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,$();case 5:if(0!==(r=t.sent).length){t.next=8;break}return t.abrupt("return");case 8:e=0,o=wt(r),t.prev=10,o.s();case 12:if((i=o.n()).done){t.next=30;break}return a=i.value,t.prev=14,(u=new FormData).append("description",a.description),u.append("lat",a.lat),u.append("lon",a.lon),u.append("photo",a.imageBlob,"image.jpg"),t.next=22,j(n,u);case 22:e++,t.next=28;break;case 25:t.prev=25,t.t0=t.catch(14),console.error("Gagal sinkronisasi cerita:",t.t0.message);case 28:t.next=12;break;case 30:t.next=35;break;case 32:t.prev=32,t.t1=t.catch(10),o.e(t.t1);case 35:return t.prev=35,o.f(),t.finish(35);case 38:if(!(e>0)){t.next=42;break}return t.next=41,nt();case 41:alert("✅ ".concat(e," cerita offline berhasil disinkronkan."));case 42:case"end":return t.stop()}}),t,null,[[10,32,35,38],[14,25]])})))()},takeScreenshot:function(){var t=document.querySelector(".container");t&&html2canvas(t).then((function(t){var n=document.createElement("a");n.download="screenshot.png",n.href=t.toDataURL(),n.click()}))},destroy:function(){vt.destroy(),window.removeEventListener("online",this._boundSyncHandler)}}},At=null;function Bt(){return Dt.apply(this,arguments)}function Dt(){var t;return t=It().mark((function t(){var n,r,e,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.getElementById("app"),At&&"function"==typeof At.destroy&&At.destroy(),!(r=window.location.hash||"#/login").startsWith("#/update/")){t.next=9;break}return e=r.split("/")[2],At=Lt,t.next=8,At.init(n,e);case 8:return t.abrupt("return");case 9:if(!(o=Ct[r])||"function"!=typeof o.init){t.next=16;break}return At=o,t.next=14,o.init(n);case 14:t.next=18;break;case 16:n.innerHTML="",Gt();case 18:case"end":return t.stop()}}),t)})),Dt=function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){Nt(i,e,o,a,u,"next",t)}function u(t){Nt(i,e,o,a,u,"throw",t)}a(void 0)}))},Dt.apply(this,arguments)}function zt(){window.addEventListener("hashchange",Bt),window.addEventListener("DOMContentLoaded",Bt)}function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function qt(){qt=function(){return n};var t,n={},r=Object.prototype,e=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,r,e){return Object.defineProperty(t,n,{value:r,enumerable:!e,configurable:!e,writable:!e})}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function s(n,r,e,o){var i=r&&r.prototype instanceof h?r:h,a=Object.create(i.prototype);return c(a,"_invoke",function(n,r,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var u=e.delegate;if(u){var c=x(u,e);if(c){if(c===f)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var s=l(n,r,e);if("normal"===s.type){if(o=e.done?4:2,s.arg===f)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(o=4,e.method="throw",e.arg=s.arg)}}}(n,e,new S(o||[])),!0),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==r&&e.call(g,i)&&(y=g);var v=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function r(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Mt(f)&&e.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):n.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var o;c(this,"_invoke",(function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}),!0)}function x(n,r){var e=r.method,o=n.i[e];if(o===t)return r.delegate=null,"throw"===e&&n.i.return&&(r.method="return",r.arg=t,x(n,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),f;var i=l(o,n.i,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,f;var a=i.arg;return a?a.done?(r[n.r]=a.value,r.next=n.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,f):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function k(t){this.tryEntries.push(t)}function E(n){var r=n[4]||{};r.type="normal",r.arg=t,n[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function O(n){if(null!=n){var r=n[i];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function r(){for(;++o<n.length;)if(e.call(n,o))return r.value=n[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Mt(n)+" is not iterable")}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,u,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t},n.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),n.AsyncIterator=w,n.async=function(t,r,e,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,e,o),i);return n.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,u,"Generator"),c(v,i,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),r=[];for(var e in n)r.unshift(e);return function t(){for(;r.length;)if((e=r.pop())in n)return t.value=e,t.done=!1,t;return t.done=!0,t}},n.values=O,S.prototype={constructor:S,reset:function(n){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!n)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(t){a.type="throw",a.arg=n,r.next=t}for(var o=r.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],u=this.prev,c=i[1],s=i[2];if(-1===i[0])return e("end"),!1;if(!c&&!s)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=u){if(u<c)return this.method="next",this.arg=t,e(c),!0;if(u<s)return e(s),!1}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=n&&n<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o[2],f):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[2]===t)return this.complete(r[4],r[3]),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]===t){var e=r[4];if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(n,r,e){return this.delegate={i:O(n),r,n:e},"next"===this.method&&(this.arg=t),f}},n}function Ut(t,n,r,e,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?n(c):Promise.resolve(c).then(e,o)}function Ht(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function a(t){Ut(i,e,o,a,u,"next",t)}function u(t){Ut(i,e,o,a,u,"throw",t)}a(void 0)}))}}function Rt(t){return function(t){if(Array.isArray(t))return Yt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return Yt(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}document.addEventListener("DOMContentLoaded",(function(){zt(),window.addEventListener("hashchange",(function(){zt()}))})),document.addEventListener("DOMContentLoaded",Ht(qt().mark((function t(){var n,r,e,o,i,a;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return zt(),window.addEventListener("hashchange",(function(){zt()})),t.next=4,W();case 4:if(!("serviceWorker"in navigator)||!("PushManager"in window)){t.next=35;break}return t.prev=5,t.next=8,navigator.serviceWorker.register("/service-worker.js");case 8:return n=t.sent,console.log("Service Worker terdaftar:",n),t.next=12,navigator.serviceWorker.ready;case 12:return r=t.sent,console.log("Service Worker siap:",r),t.next=16,Notification.requestPermission();case 16:if("granted"===t.sent){t.next=20;break}return alert("Izin notifikasi tidak diberikan."),t.abrupt("return");case 20:return void 0,void 0,u=("BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk"+"=".repeat(1)).replace(/\-/g,"+").replace(/_/g,"/"),c=atob(u),e=Uint8Array.from(Rt(c).map((function(t){return t.charCodeAt(0)}))),t.next=24,r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e});case 24:return o=t.sent,i={endpoint:o.endpoint,keys:{p256dh:o.getKey("p256dh")?btoa(String.fromCharCode.apply(String,Rt(new Uint8Array(o.getKey("p256dh"))))):null,auth:o.getKey("auth")?btoa(String.fromCharCode.apply(String,Rt(new Uint8Array(o.getKey("auth"))))):null}},a=localStorage.getItem("token"),t.next=29,fetch("https://story-api.dicoding.dev/v1/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(i)});case 29:console.log("Subscription berhasil dikirim ke server Dicoding."),t.next=35;break;case 32:t.prev=32,t.t0=t.catch(5),console.error("Gagal mendaftar service worker atau push subscription:",t.t0);case 35:case"end":return t.stop()}var u,c}),t,null,[[5,32]])}))))})();